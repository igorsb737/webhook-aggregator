{
    "version": 2,
    "builds": [
        {
            "src": "src/server.ts",
            "use": "@vercel/node"
        },
        {
            "src": "public/**",
            "use": "@vercel/static"
        }
    ],
    "routes": [
        {
            "src": "/webhook",
            "methods": ["POST"],
            "dest": "src/server.ts"
        },
        {
            "src": "/history",
            "dest": "src/server.ts"
        },
        {
            "src": "/clear-logs",
            "methods": ["POST"],
            "dest": "src/server.ts"
        },
        {
            "src": "/(.*)",
            "dest": "/public/$1"
        }
    ],
    "env": {
        "REDIS_URL": "@redis_url",
        "REDIS_TTL": "@redis_ttl",
        "WEBHOOK_URL": "@webhook_url"
    }
}
